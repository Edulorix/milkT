# 근무 스케줄 관리 (서점/마트) – Static Web App

팀장(엄마) 1명이 **웹에서 스케줄을 수정**하고, 팀원들은 **URL로 확인(보기 전용)** 또는 **PNG 이미지로 공유(카카오톡)** 할 수 있는 **단일 HTML 파일 기반** 스케줄러입니다. GitHub Pages에 올리면 바로 실행됩니다.

> 비밀번호(관리자): **1234**

---

## ✅ 현재 완료된 기능

### 역할/권한
- 관리자/일반 사용자 구분
  - 관리자: 비밀번호 **1234** 입력 시 편집 가능
  - 팀원: 기본 **보기 전용**

### 주간 스케줄(전체)
- 주차(월요일 시작) 기준 스케줄 테이블
- 셀 클릭 → 팀원 다중 선택 후 저장 (관리자)
- 팀원 태그 **드래그 앤 드롭**으로 셀에 빠르게 배치 (관리자)
- 필터(장소명/팀원명)로 빠르게 찾기

### 개인별 / 장소별 / 월간 달력 뷰
- 개인별: 선택한 팀원의 주간 배정 목록 + 미니 주간표
- 장소별: 선택한 장소의 주간 배정 목록
- 월간 달력: 월 단위로 배정 요약 표시, 날짜 클릭 시 해당 주차로 이동

### 자동 경고 (연속 근무)
- 같은 팀원이 **같은 장소에 2일 연속**: 노란색(warn2)
- **3일 이상 연속**: 주황색(warn3)

### PNG 이미지 내보내기
- 현재 보고 있는 화면(전체/개인/장소/달력)을 **PNG로 다운로드**
- html2canvas 사용

### URL 공유
- 상단 **URL 복사** 버튼: 현재 뷰/선택 주차/선택 필터 상태를 쿼리스트링으로 반영해 공유

### 데이터 관리
- LocalStorage 자동 저장
- 백업: JSON 다운로드
- 복원: JSON 업로드
- 초기화: 전체 데이터 리셋

### 팀원/장소 관리 (인원 변동 반영)
- 팀원 추가(이름, 색상)
- 팀원 삭제
- 팀원 활성/비활성 전환
- 팀원 이름 변경, 색상 변경
- 장소 추가(분류: 서점/마트/기타)
- 장소 삭제/이름 변경/분류 변경

### PWA(기본)
- `manifest.webmanifest` + `sw.js` 포함
- 모바일에서 “홈 화면에 추가”로 앱처럼 사용 가능

---

## 🔗 기능 진입 URI (정적 사이트)

- `/index.html`
  - Query params(공유용):
    - `view=week|person|place|month`
    - `week=<weekId>`
    - `person=<memberId>`
    - `place=<placeId>`

> 주의: `weekId/personId/placeId`는 내부 UUID라 사람이 직접 입력하기보다는 **앱에서 URL 복사**로 공유하는 것을 권장합니다.

---

## ❗ 아직 구현하지 않은 것(제한/향후)

- **실시간 동기화(여러 명이 동시에 수정)**: 현재는 LocalStorage 기반이라 기기/브라우저가 다르면 데이터가 공유되지 않습니다.
- **서버 기반 로그인/권한/감사 로그**: 정적 사이트 한계로 미구현.
- **자동 알림(카카오/메일)**: 외부 서비스 연동(인증/키)이 필요하여 정적만으로는 제한.

---

## 🧭 추천 다음 단계

1. **팀장 1명만 수정**하는 운영이라면
   - 현재 버전 그대로 사용 + 주기적 JSON 백업을 권장
2. 팀원들도 같은 데이터를 같은 링크에서 보게 하려면(동기화 필요)
   - Google Sheets(공개 JSON) 또는 CORS 가능한 인증 없는 REST API를 “읽기 전용 데이터 소스”로 연결
   - 혹은 별도 백엔드/DB 필요(정적 범위 밖)
3. 공유 링크를 사람이 읽기 쉬운 형태로
   - `week=2025-08-25` 같은 파라미터를 추가로 지원하도록 개선 가능

---

## 📦 프로젝트 구조

```
index.html              # 단일 앱(모든 UI/JS/CSS 포함)
manifest.webmanifest    # PWA 매니페스트
sw.js                   # 오프라인 캐시용 서비스워커
README.md
```

---

## 🧩 데이터 모델(로컬 저장)

LocalStorage 키: `schedule_app_v1`

```json
{
  "version": 1,
  "members": [{"id":"...","name":"...","color":"#rrggbb","active":true}],
  "places": [{"id":"...","name":"...","category":"bookstore|mart|other"}],
  "weeks": [
    {
      "id":"...",
      "startDate":"YYYY-MM-DD",  // 월요일
      "assignments": {
        "placeId": {
          "YYYY-MM-DD": ["memberId", "memberId"]
        }
      },
      "warnings": {
        "placeId": {
          "YYYY-MM-DD": 2|3
        }
      }
    }
  ]
}
```

---

## 🚀 배포(중요)

이 프로젝트는 정적 사이트입니다. **Publish(또는 GitHub Pages)**로 올리면 바로 동작합니다.

- GitHub Pages 사용 시
  1. 이 레포를 GitHub에 푸시
  2. Settings → Pages → Branch 선택
  3. 발급된 URL로 접속

---

## 📌 초기 데이터

### 팀원(10명)
- 진영희, 임승주, 김두니, 지정하, 이미자
- 백수연, 임경원, 최형심, 안정희, 김민지

### 장소
- 영풍문고 인천터미널점
- 반디앤루니스 목동점
- 더북 안양엔터식스점
- 영풍문고 왕십리점
- 인천 스퀘어원 (10:30-19:00)
- 북앤북스 간석홈플러스점
- 영풍문고 부천포도몰
- 영풍문고 김포공항점
- 교보문고 영등포점
- 용산 영풍문고
- 이마트 (산본, 오산, 은평, 다산)
- 롯데마트 서울역점

